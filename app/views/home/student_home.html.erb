<h1>Student Home</h1>

<hr>

<div>
  <h2>Enroll in a course</h2>

  <form action="/insert_enrollment" method="post">
    <div>
      <label for="course_id_box">Course</label>
      <select name="query_course_id" id="course_id_box">
        <option value="">--Please choose a course--</option>
        <% @courses.each do |course| %>
          <option value="<%= course.id %>"><%= course.name %></option>
        <% end %>
      </select>
    </div>

    <div>
      <input type="hidden" id="student_id_box" name="query_student_id" value="<%= current_student.id %>">
      <input type="hidden" id="status_box" name="query_status" value="In Progress">
      <input type="hidden" id="grade_box" name="query_grade" value="0">
    </div>

    <button>Create enrollment</button>
  </form>
</div>

<hr>

<table border="1">
  <tr>
    <th>ID</th>
    <th>Course</th>
    <th>Student</th>
    <th>Status</th>
    <th>Grade</th>
    <th>Created at</th>
    <th>Updated at</th>
    <th></th>
  </tr>

  <% @enrollments.each do |enrollment| %>
  <tr>
    <td><%= enrollment.id %></td>
    <td><%= enrollment.course.name %></td>
    <td><%= enrollment.student.name %></td>
    <td><%= enrollment.status %></td>
    <td><%= enrollment.grade %></td>
    <td><%= time_ago_in_words(enrollment.created_at) %> ago</td>
    <td><%= time_ago_in_words(enrollment.updated_at) %> ago</td>
    <td><a href="/enrollments/<%= enrollment.id %>">Show details</a></td>
  </tr>
  <% end %>
</table>
